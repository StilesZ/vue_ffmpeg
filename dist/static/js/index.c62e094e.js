(function(e){function t(t){for(var r,o,i=t[0],u=t[1],s=t[2],f=0,l=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(l.length)l.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={index:0},a={index:0},c=[];function i(e){return u.p+"static/js/"+({}[e]||e)+"."+{"chunk-0f639b73":"e76430d7","chunk-12d1009e":"a7d1c9b0","chunk-1e800600":"2eb4ddf5","chunk-2a33ff57":"1c0b5a28","chunk-4385bff3":"38dc1e3c","chunk-a1bda2fc":"653d395e"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-0f639b73":1,"chunk-2a33ff57":1,"chunk-a1bda2fc":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="static/css/"+({}[e]||e)+"."+{"chunk-0f639b73":"120b9431","chunk-12d1009e":"31d6cfe0","chunk-1e800600":"31d6cfe0","chunk-2a33ff57":"30188b25","chunk-4385bff3":"31d6cfe0","chunk-a1bda2fc":"cf0728eb"}[e]+".css",a=u.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===a))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){s=l[i],f=s.getAttribute("data-href");if(f===r||f===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],p.parentNode.removeChild(p),n(c)},p.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=c);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=i(e);var l=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=f;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"49f4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setLocalStorage",(function(){return v})),n.d(r,"getLocalStorage",(function(){return y})),n.d(r,"removeLocalStorage",(function(){return O})),n.d(r,"Cookie",(function(){return j})),n.d(r,"dataURItoBlob",(function(){return S})),n.d(r,"canvasToFile",(function(){return w}));n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],i={},u=i,s=(n("5c0b"),n("2877")),f=Object(s["a"])(u,a,c,!1,null,null,null),l=f.exports,p=n("8c4f");o["default"].use(p["a"]);var d=new p["a"]({routes:[{path:"/",name:"Layout",component:function(){return n.e("chunk-0f639b73").then(n.bind(null,"8330"))},redirect:{name:"Home"},children:[{path:"home",name:"Home",component:function(){return n.e("chunk-2a33ff57").then(n.bind(null,"f5b8"))},redirect:{name:"pageList"},children:[{path:"page-list",name:"pageList",component:function(){return n.e("chunk-a1bda2fc").then(n.bind(null,"1dfe"))}},{path:"my-template",name:"myTemplate",component:function(){return n.e("chunk-1e800600").then(n.bind(null,"13a7"))}},{path:"template-list",name:"templateList",component:function(){return n.e("chunk-12d1009e").then(n.bind(null,"a21a"))}}]},{path:"/editor",name:"Editor",component:function(){return n.e("chunk-4385bff3").then(n.bind(null,"a486"))}}]}]}),g=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("ade3")),m=n("2f62"),b=(n("7514"),n("20d6"),n("2909"),n("2ef0"),n("fefe"),n("5c96")),h=n.n(b),v=(n("7f7f"),n("34ef"),n("28a5"),function(e,t){e&&("string"!==typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t))}),y=function(e){if(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):void 0}},O=function(e){e&&window.localStorage.removeItem(e)},j={get:function(e){for(var t=document.cookie,n=t.split("; "),r=0;r<n.length;r++){var o=n[r].split("=");if(o[0]==e)return o[1]}return""},set:function(e,t,n,r,o){var a=e+"="+(t||""),c=new Date;r=void 0!=r?";domain="+r:"",c.setTime(c.getTime()+24*(n||1)*3600*1e3),a=a+r+"; path="+(o||"/")+"; expires="+c.toGMTString(),document.cookie=a},remove:function(e){this.set(e,"",-1)}};function S(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);var c=new Blob([r],{type:n});return c}function w(e){var t=e.name,n=e.canvas,r=e.quality,o=void 0===r?.9:r,a=e.type,c=void 0===a?"png":a,i=n.toDataURL("image/".concat(c),o),u=S(i),s=t||"".concat(+new Date),f="".concat(s,".").concat(c),l=new window.File([u],f,{type:"image/".concat(c)});return{file:l,id:s,filename:f}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(g["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o["default"].use(m["a"]);var x=new m["a"].Store({state:{access_token:"",permissionsList:[],userInfo:{}},getters:{authorization:function(e){return e.access_token?"Bearer "+e.access_token:""},userInfo:function(e){return e.userInfo}},actions:{showMassage:function(e,t){console.log(t),Object(b["Message"])({type:t.type,message:t.message||t.data})}},mutations:{UPDATE_USER_INFO:function(e,t){e.userInfo=P({},t),mutations["SAVE_USER_TO_LOCAL"](e)},UPDATE_ACCESS_TOKEN:function(e,t){e.access_token=t||"",mutations["SAVE_USER_TO_LOCAL"](e)},UPDATE_USER_PERMISSION:function(e,t){e.permissionsList=t||[],mutations["SAVE_USER_TO_LOCAL"](e)},SAVE_USER_TO_LOCAL:function(e){v("user",e)},UPDATE_USER_FROM_LOCAL:function(e){var t=y("user");if(t)for(var n in e)e[n]=t[n]}}}),E=x,D=(n("c5f6"),n("96cf"),n("1da1")),_=n("bbbe"),L=n("f121");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(g["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){var e="";try{e=uni.getStorageSync("accesstoken")}catch(t){}return e},I=new _["a"];I.setConfig((function(e){return e.header=C(C({},e.header),{},{Authorization:E.getters.authorization,"x-csrf-token":j.get("x-csrf-token"),"content-type":"application/json;charset=UTF-8",accesstoken:E.state.access_token}),e})),I.interceptors.request.use((function(e){return e.header=C(C({},e.header),{},{accesstoken:A()}),e}),(function(e){return Promise.reject(e)})),I.interceptors.response.use(function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=null,n={};return e.data instanceof Object&&(t=e.data.errorCode,n=e.data),40100==t&&(console.log(n.message),uni.setStorageSync({key:"jetLag",data:Number(n.data.timestamp)-(new Date).getTime()})),Promise.reject(e)}));var R=I,U={GetPageList:function(e){return R.post("/v1/reservation-codes",e)},GetMyTemplate:function(e){return R.post("/v1/reservation-codes",e)},GetTemplateList:function(e){return R.post("/v1/reservation-codes",e)},CheckInfo:function(e){return R.post("/v1/reservation-codes",e)},BIndUserinfo:function(e){return R.post("/v1/reservation-codes",e)},PaySuccess:function(e){return R.post("/v1/reservation-codes",e)},SetPrimaryAccount:function(e){return R.post("/v1/reservation-codes",e)},getWxConfig:function(e){return R.post("/v1/reservation-codes",e)},getOpenid:function(e){return R.post("/v1/reservation-codes",e)}};n("49f4"),n("6861");o["default"].use(h.a),o["default"].prototype.$utils=r,o["default"].prototype.$API=U,o["default"].prototype.$config=L["a"],o["default"].config.productionTip=!1,E.commit("UPDATE_USER_FROM_LOCAL"),new o["default"]({router:d,store:E,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("e332")},6861:function(e,t,n){},e332:function(e,t,n){},f121:function(e,t,n){"use strict";n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d");var r=n("ade3");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={development:{baseURL:"http://localhost:4000"},production:{baseURL:"http://localhost:4000"}},i="production",u=!1,s=!1,f=a(a({isDevelop:u||s},c[i]),{},{canvasH5Width:384,canvasH5Height:682,pageModeList:[{value:"h5",label:"视频",disabled:!1}]});t["a"]=f},fefe:function(e,t,n){"use strict";n("6762"),n("6d67"),n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d");var r=n("ade3"),o=(n("2caf"),n("6b54"),n("87b3"),n("a481"),n("53ca")),a=function(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}));return t},c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===t||"object"!==Object(o["a"])(t))return t;var r=n.filter((function(e){return e.original===t}))[0];if(r)return r.copy;var a=Array.isArray(t)?[]:{};return n.push({original:t,copy:a}),Object.keys(t).forEach((function(r){a[r]=e(t[r],n)})),a},i=n("2ef0"),u=n("f121");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={elName:"",animations:[],commonStyle:{position:"absolute",width:u["a"].canvasH5Width,height:30,top:200,left:0,rotate:0,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:0,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,borderWidth:0,borderColor:"",borderStyle:"solid",borderRadius:0,boxShadow:"",fontSize:16,fontWeight:500,lineHeight:1.4,letterSpacing:0,textAlign:"center",color:"#000000",backgroundColor:"",backgroundImage:"",backgroundSize:"cover",opacity:1,zIndex:1},events:[],propsValue:{},value:"",valueType:"String"},p={name:"",elements:[],commonStyle:{backgroundColor:"#044EC5",backgroundImage:"",backgroundSize:"cover"},data:{time:2,duration:6,trans:"WaterWave",transDuration:1.5},config:{}},d={name:"",title:"视搭视频",description:"我用视搭可视化编辑器做了一个超酷炫的视频，快来看看吧。",coverImage:"",auther:"",script:"",width:u["a"].canvasH5Width,height:u["a"].canvasH5Height,pages:[]},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i["cloneDeep"])(e),r=n.valueType||"String",o={Sting:"",Array:[],Object:{},Boolean:!1,Number:0},u=Object(i["cloneDeep"])(l),s=f(f({uuid:a()},u),{},{elName:n.elName,propsValue:c(n.needProps||{})});return s.commonStyle=Object(i["merge"])(s.commonStyle,n.defaultStyle),s.commonStyle=Object(i["merge"])(s.commonStyle,t),s.value=e.defaultValue||o[r],s.valueType=r,s},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object(i["cloneDeep"])(e),e.uuid=a(),e.commonStyle=Object(i["merge"])(e.commonStyle,t),e.commonStyle.top=e.commonStyle.top+10,e.commonStyle.left=e.commonStyle.left+10,e},b=function(){return f({uuid:a()},Object(i["cloneDeep"])(p))},h=function(e){var t=Object(i["cloneDeep"])(e);return t.uuid=a(),t.elements=t.elements.map((function(e){return m(e)})),t},v=function(){var e=Object(i["cloneDeep"])(d),t=b();return e.pages.push(f({},t)),f({},e)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=["width","height","top","left","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","borderWidth","fontSize","borderRadius","letterSpacing"],r={};for(var o in e)n.includes(o)?r[o]=e[o]*t+"px":r[o]=e[o];return r.transform="rotate(".concat(r.rotate,"deg)"),r.backgroundImage=r.backgroundImage?"url(".concat(r.backgroundImage,")"):"",r},O=function(e,t){for(var n=0;n<e.pages.length;n++)for(var r=e.pages[n],o=0;o<r.elements.length;o++){var a=r.elements[o];if(a.isFFImage&&a.key===t)return a}return null},j=function(e){var t={},n=e.title,r=e.fps,o=void 0===r?30:r,a=e.width,c=e.height;t.title=n,t.fps=o,t.width=a,t.height=c,t.pages=[],t.audio=S(e);for(var i=0;i<e.pages.length;i++){var u=e.pages[i],s=u.data;s.backgroundColor=u.commonStyle.backgroundColor||"#000000",t.pages.push({data:s,elements:[]})}return t},S=function(e){for(var t,n=0;n<e.pages.length;n++)for(var r=e.pages[n],o=0;o<r.elements.length;o++){var a=r.elements[o];"qk-bg-music"===a.elName&&(t=a.propsValue.musicSrc)}return t},w=function(e){for(var t=c(e),n=0;n<t.pages.length;n++){var r=t.pages[n];r.elements=Object(i["sortBy"])(r.elements,(function(e){return e.commonStyle.zIndex}));for(var o=r.elements.length-1;o>=0;o--){var a=r.elements[o];"qk-bg-music"===a.elName&&r.elements.splice(o,1)}}return t};t["a"]={elementConfig:l,pageConfig:p,projectConfig:d,getElementConfig:g,getPageConfig:b,getProjectConfig:v,copyPage:h,copyElement:m,getCommonStyle:y,cloneToVideoData:j,processingProjectData:w,getDataByKeyFromVideoData:O}}});
//# sourceMappingURL=index.c62e094e.js.map